<% layout('layouts/boilerplate') -%>

<h1 class="text-center">Edit Pet</h1>
<div class="col-6 offset-3">
  <form action="/pets/<%= pet._id %>?_method=PUT" method="post" novalidate class="needs-validation" enctype="multipart/form-data">
   <div class="mb-3">
    <label class="form-label" for="category">category:</label>
    <input class="form-control" type="text" name="pet[category]" id="category" value="<%= pet.category %>" required>
  </div>

  <div class="mb-3">
    <label class="form-label" for="name">name:</label>
    <input class="form-control" type="text" name="pet[name]" id="name" value="<%= pet.name %>" required>
  </div>

  <div class="mb-3">
    <label class="form-label" for="age">age:</label>
    <input class="form-control" type="text" name="age" id="age" value="<%= pet.age %>" required>
  </div>  

  <div class="mb-3">
    <label class="form-label" for="weight">weight:</label>
    <div class="input-group">
      <input class="form-control" type="text" name="pet[weight]" id="weight" value="<%= pet.weight %>" required>
      <span class="input-group-text" id="weight label">lb</span>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="images">images:</label>
    <input type="file" class="form-control" name = "images" id="images" multiple>
  </div>

  <div class="mb-3">
    <% pet.images.forEach(function(img, i) { %>
      <img src = "<%= img.thumbnail%>" crossorigin="anonymous" class="img-thumbnail">
      <div class="form-check-inline">
        <input type="checkbox" id="image-<%= i %>" name="deleteImages[]" value="<%= img.filename %>">
        <label for="image-<%= i %>">Delete?</label>
      </div>
   <%  }) %>
  </div>

  <div class="mb-3">
    <label class="form-label" for="description">description:</label>
    <textarea class="form-control" type="text" name="pet[description]" id="description" required><%= pet.description %></textarea>
  </div>

    <button class="btn btn-success mt-3">Update</button>
    <a href="/pets/<%= pet._id %>" class="btn btn-warning mt-3">Cancel</a>

  

</form>
</div>



 
